<?xml version="1.0" encoding="UTF-8"?>
<odoo>
	<template id="report_ticket_template_header">
		<t t-if="not o" t-set="o" t-value="doc"/>
		<t t-if="not company">
			<t t-if="company_id">
				<t t-set="company" t-value="company_id"/>
			</t>
			<t t-elif="o and 'company_id' in o">
				<t t-set="company" t-value="o.company_id.sudo()"/>
			</t>
			<t t-else="else">
				<t t-set="company" t-value="res_company"/>
			</t>
		</t>

		<div class="header">
			<div class="row">
				<div class="col-6">
				</div>
				<div class="col-6">
					<img t-if="company_id.logo" t-att-src="image_data_uri(company_id.logo)" style="max-height: 65px;" alt="Logo"/>
				</div>
			</div>
		</div>

		<div class="footer" style="font-size: 13px;">
		</div>

		<div class="article" t-att-data-oe-model="o and o._name" t-att-data-oe-id="o and o.id"
			 t-att-data-oe-lang="o and 'en_US'">
			 <!-- t-att-data-oe-lang="o and o.env.context.get('lang')"> -->
			<t t-raw="0"/>
		</div>

	</template>
	<template id="report_ticket_template">
		<t t-call="web.html_container">
			<!-- <t t-foreach="docs" t-as="o"> -->
				<t t-call="custom_travels_module.report_ticket_template_header">
					<div class="page">
						<style type="text/css">
							table,tr,td,th {
								border: 1px solid black;
							}
						</style>
						<table class="table" style="border: 1px solid black;">
							<tr style="border: 1px solid black;">
								<th style="border: 1px solid black;">المجموع</th>
								<t t-foreach="shift_1_list" t-as="shift">
									<th style="border: 1px solid black;">
										<t t-esc="shift.name"/>
									</th>
								</t>
								<th style="border: 1px solid black;">اسم الفرع</th>
							</tr>
							<t t-foreach="branch_list" t-as="branch">
								<t t-set="total" t-value="0"/>
								<tr style="border: 1px solid black;">
									<t t-set="records_1" t-value="get_record_for_bs(branch.id,shift_1_list.ids)"/>
									<td style="border: 1px solid black;">
										<t t-esc="len(records_1)"/>
									</td>
									<t t-foreach="shift_1_list" t-as="shift">
										<t t-set="records" t-value="get_record_for_bs(branch.id,shift.id)"/>
										<td style="border: 1px solid black;text-align: center;">
											<t t-esc="len(records)"/>
										</td>
										<t t-set="total" t-value="len(records) + total"/>
									</t>
									<td style="border: 1px solid black;">
										<t t-esc="branch.name"/>
									</td>
								</tr>
							</t>
							<tr style="border: 1px solid black;">
								<th style="border: 1px solid black;"></th>
								<t t-foreach="shift_1_list" t-as="shift">
									<t t-set="records" t-value="get_record_for_bs(branch_list.ids,shift.id)"/>
									<th style="border: 1px solid black;text-align: center;">
										<t t-esc="len(records)"/>
									</th>
								</t>
								<th style="border: 1px solid black;"></th>
							</tr>
						</table>
					</div>
				</t>
			<!-- </t> -->
		</t>
	</template>
</odoo>